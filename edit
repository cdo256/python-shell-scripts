#!/usr/bin/env python3
import os
import subprocess
import argparse

# Reference implementaion for creating new scripts

parser = argparse.ArgumentParser(description='Edit a text file')
parser.add_argument('-d', '--visual', action='store_true')
parser.add_argument('-t', '--terminal', action='store_true')
parser.add_argument('-l', '--line', type=int)
parser.add_argument('file')
args = parser.parse_args()

if args.visual or ('DISPLAY' in os.environ and not args.terminal):
	if args.line is not None:
		subprocess.Popen(['cdoedit', '-l', str(args.line), args.file])
	else:
		subprocess.Popen(['cdoedit', args.file])
else:
	if args.line is not None:
		os.execvp('nano', ['nano', '+'+str(args.line), args.file])
	else:
		os.execvp('nano', ['nano', args.file])
